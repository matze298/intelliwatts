<!DOCTYPE html>
<html>

<head>
    <title>AI Training Plan</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="container">
        <div class="nav">
            <a href="/">Home</a>
            {% if user %}
            <a href="/secrets">Secrets</a>
            <a href="/logout">Logout</a>
            {% else %}
            <a href="/login">Login</a>
            <a href="/register">Register</a>
            {% endif %}
        </div>
        <h1>ðŸš´ AI Training Plan</h1>

        <h2> Settings</h2>
        <form method="post" action="/generate">
            <label for="language_model">Large Language model:</label>
            <select id="language_model" name="language_model">
                {% for model in settings.models %}
                <option value="{{ model }}" {% if model==settings.settings.LANGUAGE_MODEL %}selected{% endif %}>{{ model
                    }}
                </option>
                {% endfor %}
            </select>
            <br>
            <label for="system_prompt">System Prompt:</label>
            <textarea id="system_prompt" name="system_prompt" rows="8"
                cols="50">{{ settings.settings.SYSTEM_PROMPT }}</textarea>
            <br>
            <label for="user_prompt">User Prompt:</label>
            <textarea id="user_prompt" name="user_prompt" rows="8"
                cols="50">{{ settings.settings.USER_PROMPT }}</textarea>
            <br>
            <label for="max_hours">Weekly max hours:</label>
            <input type="number" id="max_hours" name="max_hours" value="8">
            <label for="max_sessions">Weekly max sessions:</label>
            <input type="number" id="max_sessions" name="max_sessions" value="4">
            <br>
            <button type="submit">Generate Plan</button>
        </form>

        <h2>Weekly Training Plan</h2>
        {% if plan_html %}
        <div class="plan">
            {{ plan_html | safe }}
        </div>
        {% else %}
        <p>No plan generated yet.</p>
        {% endif %}

        {% if summary %}
        <h2>Weekly Summary</h2>
        <div class="summary">
            {{ summary | safe }}
        </div>
        {% endif %}

        {% if prompt %}
        <h2>LLM Prompt</h2>
        <div class="prompt">
            {{ prompt | safe }}
        </div>
        {% endif %}
    </div>
</body>

</html>